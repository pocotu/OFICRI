<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="141" failures="0" errors="0" time="7.602">
  <testsuite name="Pruebas de API Básicas" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:46" time="0.718" tests="3">
    <testcase classname="Pruebas de API Básicas" name="La ruta /health debería responder correctamente" time="0.021">
    </testcase>
    <testcase classname="Pruebas de API Básicas" name="La ruta /api/health debería responder correctamente" time="0.005">
    </testcase>
    <testcase classname="Pruebas de API Básicas" name="Debería manejar correctamente rutas inexistentes" time="0.006">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad AreaEspecializada" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:47" time="0.306" tests="7">
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería crear una nueva área especializada" time="0.009">
    </testcase>
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería obtener un área por ID" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería obtener un área por código de identificación" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería actualizar datos de un área" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería desactivar un área" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería eliminar físicamente un área" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad AreaEspecializada" name="Debería listar todas las áreas activas" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Auth Controller" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:47" time="0.248" tests="8">
    <testcase classname="Auth Controller login" name="debe devolver error 400 si faltan credenciales" time="0.003">
    </testcase>
    <testcase classname="Auth Controller login" name="debe devolver token válido en caso de login exitoso" time="0.001">
    </testcase>
    <testcase classname="Auth Controller login" name="debe manejar errores de autenticación" time="0.026">
    </testcase>
    <testcase classname="Auth Controller refreshToken" name="debe rechazar peticiones sin token de refresco" time="0.001">
    </testcase>
    <testcase classname="Auth Controller refreshToken" name="debe refrescar tokens cuando se proporciona un refreshToken válido" time="0">
    </testcase>
    <testcase classname="Auth Controller refreshToken" name="debe manejar errores en la actualización del token" time="0">
    </testcase>
    <testcase classname="Auth Controller logout" name="debe procesar el logout correctamente" time="0.003">
    </testcase>
    <testcase classname="Auth Controller logout" name="debe manejar errores durante el logout" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Auth Middleware" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:47" time="0.133" tests="12">
    <testcase classname="Auth Middleware authMiddleware" name="debe permitir rutas públicas sin verificar token" time="0.002">
    </testcase>
    <testcase classname="Auth Middleware authMiddleware" name="debe permitir rutas de autenticación sin verificar token" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware authMiddleware" name="debe rechazar peticiones sin token" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware authMiddleware" name="debe rechazar peticiones con formato de token incorrecto" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware authMiddleware" name="debe aceptar peticiones con token válido" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware authMiddleware" name="debe rechazar peticiones con token inválido" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware checkRole" name="debe permitir acceso a usuarios con el rol correcto" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware checkRole" name="debe rechazar acceso a usuarios sin el rol requerido" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware checkRole" name="debe manejar peticiones sin información de usuario" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware checkPermissions" name="debe permitir acceso a usuarios con los permisos requeridos" time="0.001">
    </testcase>
    <testcase classname="Auth Middleware checkPermissions" name="debe rechazar acceso a usuarios sin los permisos requeridos" time="0">
    </testcase>
    <testcase classname="Auth Middleware checkPermissions" name="debe manejar peticiones sin información de usuario" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de autenticación" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:47" time="0.927" tests="5">
    <testcase classname="Pruebas de autenticación" name="Debería rechazar un login con credenciales inválidas" time="0.044">
    </testcase>
    <testcase classname="Pruebas de autenticación" name="Debería procesar un login con credenciales válidas" time="0.019">
    </testcase>
    <testcase classname="Pruebas de autenticación" name="Debería procesar solicitud de refresh token" time="0.01">
    </testcase>
    <testcase classname="Pruebas de autenticación" name="Debería procesar verificación de autenticación" time="0.019">
    </testcase>
    <testcase classname="Pruebas de autenticación" name="Debería procesar cierre de sesión" time="0.014">
    </testcase>
  </testsuite>
  <testsuite name="Database Helpers" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:48" time="0.144" tests="7">
    <testcase classname="Database Helpers hashPassword" name="debe hashear una contraseña correctamente" time="0.001">
    </testcase>
    <testcase classname="Database Helpers hashPassword" name="debe manejar contraseñas vacías" time="0">
    </testcase>
    <testcase classname="Database Helpers verifyPassword" name="debe verificar una contraseña correcta" time="0.001">
    </testcase>
    <testcase classname="Database Helpers verifyPassword" name="debe rechazar una contraseña incorrecta" time="0">
    </testcase>
    <testcase classname="Database Helpers getDefaultRoles" name="debe devolver un array con los roles predeterminados" time="0.001">
    </testcase>
    <testcase classname="Database Helpers getDefaultAreas" name="debe devolver un array con las áreas predeterminadas" time="0.002">
    </testcase>
    <testcase classname="Database Helpers getDefaultPermissions" name="debe devolver un array con los permisos predeterminados" time="0.006">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Base de Datos" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:48" time="0.137" tests="5">
    <testcase classname="Pruebas de Base de Datos" name="La configuración de base de datos está definida" time="0.001">
    </testcase>
    <testcase classname="Pruebas de Base de Datos" name="El pool de conexiones está definido" time="0">
    </testcase>
    <testcase classname="Pruebas de Base de Datos" name="La función testConnection debería ejecutarse correctamente" time="0.013">
    </testcase>
    <testcase classname="Pruebas de Base de Datos" name="La función executeQuery debería ejecutar consultas SQL" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Base de Datos" name="Debería manejar errores de sintaxis SQL correctamente" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad Derivacion" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:49" time="0.153" tests="6">
    <testcase classname="Pruebas de Entidad Derivacion" name="Debería crear una nueva derivación" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad Derivacion" name="Debería obtener una derivación por ID" time="0">
    </testcase>
    <testcase classname="Pruebas de Entidad Derivacion" name="Debería actualizar el estado de una derivación" time="0">
    </testcase>
    <testcase classname="Pruebas de Entidad Derivacion" name="Debería listar derivaciones pendientes" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad Derivacion" name="Debería listar derivaciones por área de destino" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad Derivacion" name="Debería eliminar una derivación" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Document API" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:49" time="1.63" tests="12">
    <testcase classname="Document API POST /api/documents" name="should create a new document when valid data is provided" time="0">
    </testcase>
    <testcase classname="Document API POST /api/documents" name="should return 400 when required data is missing" time="0">
    </testcase>
    <testcase classname="Document API GET /api/documents" name="should return a list of documents" time="0">
    </testcase>
    <testcase classname="Document API GET /api/documents" name="should filter documents by estado parameter" time="0">
    </testcase>
    <testcase classname="Document API GET /api/documents/:id" name="should return a document when valid ID is provided" time="0">
    </testcase>
    <testcase classname="Document API GET /api/documents/:id" name="should return 404 when document does not exist" time="0">
    </testcase>
    <testcase classname="Document API PUT /api/documents/:id" name="should update a document when valid data is provided" time="0">
    </testcase>
    <testcase classname="Document API PATCH /api/documents/:id/status" name="should update document status when valid data is provided" time="0">
    </testcase>
    <testcase classname="Document API PATCH /api/documents/:id/status" name="should return 400 when invalid status is provided" time="0">
    </testcase>
    <testcase classname="Document API GET /api/documents/:id/history" name="should return document history" time="0">
    </testcase>
    <testcase classname="Document API POST /api/documents/:id/derive" name="should derive a document to another area" time="0">
    </testcase>
    <testcase classname="Document API DELETE /api/documents/:id" name="should delete a document if it has no dependencies" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad Documento" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:50" time="0.127" tests="6">
    <testcase classname="Pruebas de Entidad Documento" name="Debería crear un nuevo documento" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad Documento" name="Debería obtener un documento por ID" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad Documento" name="Debería obtener un documento por número de registro" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad Documento" name="Debería actualizar estado de un documento" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad Documento" name="Debería cambiar el área de un documento" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad Documento" name="Debería eliminar un documento" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad DocumentoArchivo" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:51" time="0.112" tests="6">
    <testcase classname="Pruebas de Entidad DocumentoArchivo" name="Debería crear un nuevo archivo de documento" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad DocumentoArchivo" name="Debería obtener un archivo por ID" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad DocumentoArchivo" name="Debería obtener archivos por ID de documento" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad DocumentoArchivo" name="Debería actualizar datos de un archivo" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad DocumentoArchivo" name="Debería eliminar un archivo" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad DocumentoArchivo" name="Debería probar el procedimiento almacenado sp_subir_archivo_documento" time="0.009">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad Dosaje" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:51" time="0.174" tests="7">
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería crear un nuevo registro de dosaje" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería obtener un registro de dosaje por ID" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería obtener un registro de dosaje por número de registro" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería actualizar datos de un registro de dosaje" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería desactivar un registro de dosaje" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería eliminar físicamente un registro de dosaje" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad Dosaje" name="Debería probar el procedimiento almacenado sp_insertar_dosaje" time="0.008">
    </testcase>
  </testsuite>
  <testsuite name="Error Handler Middleware" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:51" time="0.097" tests="7">
    <testcase classname="Error Handler Middleware" name="debe capturar y formatear errores genéricos" time="0.003">
    </testcase>
    <testcase classname="Error Handler Middleware" name="debe mantener el código de estado de errores HTTP" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware" name="debe manejar errores de validación" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware" name="debe pasar al siguiente middleware si no es error de validación" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware" name="debe manejar errores de autenticación" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware" name="debe manejar errores de base de datos" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware" name="debe pasar al siguiente middleware para errores no manejados" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad ForenseDigital" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:51" time="0.172" tests="7">
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería crear un nuevo registro forense digital" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería obtener un registro forense digital por ID" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería obtener un registro forense digital por número de registro" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería actualizar datos de un registro forense digital" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería desactivar un registro forense digital" time="0.006">
    </testcase>
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería eliminar físicamente un registro forense digital" time="0.006">
    </testcase>
    <testcase classname="Pruebas de Entidad ForenseDigital" name="Debería probar el procedimiento almacenado sp_insertar_forense_digital" time="0.008">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Estructura Básica" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:51" time="0.701" tests="3">
    <testcase classname="Pruebas de Estructura Básica" name="La aplicación Express está definida" time="0.001">
    </testcase>
    <testcase classname="Pruebas de Estructura Básica" name="La conexión a la base de datos está definida" time="0">
    </testcase>
    <testcase classname="Pruebas de Estructura Básica" name="El logger está definido" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas del Logger" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:52" time="0.093" tests="4">
    <testcase classname="Pruebas del Logger" name="El logger está definido correctamente" time="0.001">
    </testcase>
    <testcase classname="Pruebas del Logger" name="El logger tiene los métodos necesarios" time="0.001">
    </testcase>
    <testcase classname="Pruebas del Logger" name="El logger puede registrar mensajes sin lanzar errores" time="0.003">
    </testcase>
    <testcase classname="Pruebas del Logger" name="El logger puede registrar objetos complejos sin lanzar errores" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Logger Module" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:52" time="0.064" tests="4">
    <testcase classname="Logger Module" name="debe crear un logger con configuración por defecto" time="0.002">
    </testcase>
    <testcase classname="Logger Module" name="debe usar el nivel de log especificado en LOG_LEVEL" time="0.004">
    </testcase>
    <testcase classname="Logger Module" name="debe agregar transporte de archivo si LOG_FILE está definido" time="0.002">
    </testcase>
    <testcase classname="Logger Module" name="los métodos del logger deben funcionar correctamente" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad MesaPartes" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:52" time="0.159" tests="7">
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería crear una nueva mesa de partes" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería obtener una mesa de partes por ID" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería obtener una mesa de partes por código de identificación" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería actualizar datos de una mesa de partes" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería desactivar una mesa de partes" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería eliminar físicamente una mesa de partes" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad MesaPartes" name="Debería listar todas las mesas de partes activas" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Papelera de Reciclaje" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:52" time="0.204" tests="4">
    <testcase classname="Pruebas de Papelera de Reciclaje" name="Debería mover un documento a la papelera" time="0.01">
    </testcase>
    <testcase classname="Pruebas de Papelera de Reciclaje" name="Debería restaurar un documento de la papelera" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Papelera de Reciclaje" name="Debería mover nuevamente a papelera y eliminar permanentemente" time="0.009">
    </testcase>
    <testcase classname="Pruebas de Papelera de Reciclaje" name="Debería comprobar permiso contextual para eliminar documento" time="0.017">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad PermisoContextual" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:52" time="0.144" tests="5">
    <testcase classname="Pruebas de Entidad PermisoContextual" name="Debería crear un nuevo permiso contextual" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad PermisoContextual" name="Debería obtener un permiso contextual por ID" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad PermisoContextual" name="Debería obtener permisos contextuales a través de la vista" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad PermisoContextual" name="Debería actualizar un permiso contextual" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad PermisoContextual" name="Debería eliminar un permiso contextual" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="API de Permisos" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:53" time="0.536" tests="5">
    <testcase classname="API de Permisos" name="Debería obtener los bits de permisos" time="0.035">
    </testcase>
    <testcase classname="API de Permisos" name="Debería verificar un permiso por bit" time="0.019">
    </testcase>
    <testcase classname="API de Permisos" name="Debería obtener todos los permisos contextuales" time="0.015">
    </testcase>
    <testcase classname="API de Permisos" name="Debería obtener información completa de permisos para frontend" time="0.011">
    </testcase>
    <testcase classname="API de Permisos" name="Debería devolver error 404 si el usuario no existe" time="0.01">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad QuimicaToxicologiaForense" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:53" time="0.167" tests="6">
    <testcase classname="Pruebas de Entidad QuimicaToxicologiaForense" name="Debería crear un nuevo registro químico/toxicológico" time="0.007">
    </testcase>
    <testcase classname="Pruebas de Entidad QuimicaToxicologiaForense" name="Debería obtener un registro químico/toxicológico por ID" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad QuimicaToxicologiaForense" name="Debería obtener un registro químico/toxicológico por número de registro" time="0.001">
    </testcase>
    <testcase classname="Pruebas de Entidad QuimicaToxicologiaForense" name="Debería actualizar datos de un registro químico/toxicológico" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad QuimicaToxicologiaForense" name="Debería desactivar un registro químico/toxicológico" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad QuimicaToxicologiaForense" name="Debería eliminar físicamente un registro químico/toxicológico" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="Pruebas de Entidad Usuario" errors="0" failures="0" skipped="0" timestamp="2025-03-23T18:27:53" time="0.149" tests="5">
    <testcase classname="Pruebas de Entidad Usuario" name="Debería crear un nuevo usuario" time="0.005">
    </testcase>
    <testcase classname="Pruebas de Entidad Usuario" name="Debería obtener un usuario por ID" time="0.003">
    </testcase>
    <testcase classname="Pruebas de Entidad Usuario" name="Debería obtener un usuario por CodigoCIP" time="0.002">
    </testcase>
    <testcase classname="Pruebas de Entidad Usuario" name="Debería actualizar datos de usuario" time="0.004">
    </testcase>
    <testcase classname="Pruebas de Entidad Usuario" name="Debería eliminar un usuario" time="0.004">
    </testcase>
  </testsuite>
</testsuites>